import{r as m,u as C,j as e,H as T,L as y}from"./app-By5Hh40n.js";function E({auth:D}){const[s,h]=m.useState(1),[v,u]=m.useState(!1),[f,p]=m.useState(!1);m.useEffect(()=>{const a=()=>{window.scrollY>50?p(!0):p(!1)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const{data:n,setData:r,post:N,processing:x,errors:l,reset:k,clearErrors:j,setError:t}=C({phone:"",email:"",name:"",institution:"",purpose:""}),b=async a=>{if(a.length>=10)try{const i=await fetch(`/check-visitor/${a}`);if(!i.ok)return;const d=await i.json();d&&r(o=>o.phone!==a?o:{...o,name:d.name||o.name,email:d.email||o.email,institution:d.institution||o.institution})}catch(i){console.error("Error checking visitor:",i)}};m.useEffect(()=>{n.phone.length>=10&&s===1&&b(n.phone)},[n.phone]);const c=()=>{g(s)&&(h(a=>a+1),j())},w=()=>{h(a=>a-1)},g=a=>{let i=!0;return j(),a===1?(n.phone?/^(\+62|0)[0-9]{9,13}$/.test(n.phone)||(t("phone","Format nomor HP tidak valid"),i=!1):(t("phone","Nomor HP wajib diisi"),i=!1),n.email?/\S+@\S+\.\S+/.test(n.email)||(t("email","Format email tidak valid"),i=!1):(t("email","Email wajib diisi"),i=!1)):a===2?(n.name||(t("name","Nama lengkap wajib diisi"),i=!1),n.institution||(t("institution","Asal instansi wajib diisi"),i=!1)):a===3&&(n.purpose||(t("purpose","Keperluan wajib diisi"),i=!1)),i},S=a=>{a.preventDefault(),g(3)&&N(route("guestbook.submit"),{onSuccess:()=>{u(!0),k(),h(1)}})};return e.jsxs("div",{className:"welcome-page",children:[e.jsx(T,{title:"E-Tamu Telkom"}),e.jsx("header",{className:`header ${f?"is-scrolled":""}`,children:e.jsx("div",{className:"header-top",children:e.jsxs("div",{className:"logo-container",children:[e.jsx("img",{src:"/logo/image_4.png",alt:"E-Tamu Logo",className:"logo-aja"}),e.jsxs("div",{className:"logo-text-wrapper",children:[e.jsx("span",{className:"logo-text-main",children:"E-Tamu"}),e.jsx("span",{className:"logo-text-sub",children:"Buku Tamu Digital"})]})]})})}),e.jsx("div",{className:"marquee-bar",children:e.jsxs("div",{className:"marquee-content",children:[e.jsx("span",{className:"marquee-item",children:"Selamat Datang di Telkomsel Semarang"}),e.jsx("span",{className:"marquee-item",children:"Selamat Datang di Telkomsel Semarang"}),e.jsx("span",{className:"marquee-item",children:"Selamat Datang di Telkomsel Semarang"}),e.jsx("span",{className:"marquee-item",children:"Selamat Datang di Telkomsel Semarang"}),e.jsx("span",{className:"marquee-item",children:"Selamat Datang di Telkomsel Semarang"}),e.jsx("span",{className:"marquee-item",children:"Selamat Datang di Telkomsel Semarang"}),e.jsx("span",{className:"marquee-item",children:"Selamat Datang di Telkomsel Semarang"}),e.jsx("span",{className:"marquee-item",children:"Selamat Datang di Telkomsel Semarang"}),e.jsx("span",{className:"marquee-item",children:"Selamat Datang di Telkomsel Semarang"}),e.jsx("span",{className:"marquee-item",children:"Selamat Datang di Telkomsel Semarang"})]})}),e.jsxs("main",{className:"main-content",children:[e.jsxs("div",{className:"form-pane",children:[e.jsxs("div",{className:"stepper",children:[e.jsxs("div",{className:`step-item ${s>=1?"completed":""} ${s===1?"active":""}`,children:[e.jsx("div",{className:"step-number",children:s>1?"":"1"}),e.jsx("div",{className:"step-label",children:"Kontak"})]}),e.jsxs("div",{className:`step-item ${s>=2?"completed":""} ${s===2?"active":""}`,children:[e.jsx("div",{className:"step-number",children:s>2?"":"2"}),e.jsx("div",{className:"step-label",children:"Data Diri"})]}),e.jsxs("div",{className:`step-item ${s>=3?"completed":""} ${s===3?"active":""}`,children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsx("div",{className:"step-label",children:"Keperluan"})]})]}),e.jsxs("form",{onSubmit:S,children:[s===1&&e.jsxs("div",{className:"form-step",children:[e.jsx("h3",{className:"form-title",children:"Informasi Kontak"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Nomor WhatsApp / HP"}),e.jsx("input",{id:"phone",type:"tel",autoComplete:"tel",placeholder:"Contoh: 08123456789",value:n.phone,onChange:a=>r("phone",a.target.value.replace(/[^0-9]/g,"")),onKeyDown:a=>a.key==="Enter"&&(a.preventDefault(),c())}),l.phone&&e.jsxs("span",{className:"error-message",children:["⚠️ ",l.phone]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Aktif"}),e.jsx("input",{id:"email",type:"email",autoComplete:"email",placeholder:"nama@email.com",value:n.email,onChange:a=>r("email",a.target.value),onKeyDown:a=>a.key==="Enter"&&(a.preventDefault(),c())}),l.email&&e.jsxs("span",{className:"error-message",children:["⚠️ ",l.email]})]})]}),s===2&&e.jsxs("div",{className:"form-step",children:[e.jsx("h3",{className:"form-title",children:"Informasi Tambahan"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Nama Lengkap"}),e.jsx("input",{id:"name",type:"text",autoComplete:"name",placeholder:"Masukkan nama sesuai KTP",className:"uppercase",value:n.name,onChange:a=>r("name",a.target.value.replace(/[^a-zA-Z\s]/g,"").toUpperCase()),onKeyDown:a=>a.key==="Enter"&&(a.preventDefault(),c())}),l.name&&e.jsxs("span",{className:"error-message",children:["⚠️ ",l.name]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"institution",children:"Asal Instansi / Perusahaan"}),e.jsx("input",{id:"institution",type:"text",autoComplete:"organization",placeholder:"Tulis '-' jika pribadi",value:n.institution,onChange:a=>r("institution",a.target.value),onKeyDown:a=>a.key==="Enter"&&(a.preventDefault(),c())}),l.institution&&e.jsxs("span",{className:"error-message",children:["⚠️ ",l.institution]})]})]}),s===3&&e.jsxs("div",{className:"form-step",children:[e.jsx("h3",{className:"form-title",children:"Keperluan Kunjungan"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"purpose",children:"Detail Keperluan"}),e.jsx("textarea",{id:"purpose",placeholder:"Jelaskan secara singkat tujuan kedatangan Anda...",rows:"4",value:n.purpose,onChange:a=>r("purpose",a.target.value)}),l.purpose&&e.jsxs("span",{className:"error-message",children:["⚠️ ",l.purpose]})]})]}),e.jsxs("div",{className:"btn-container",children:[s>1?e.jsxs("button",{type:"button",onClick:w,className:"btn-back",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Kembali"]}):e.jsx("div",{}),s<3?e.jsxs("button",{type:"button",onClick:c,className:"btn-next",children:["Lanjutkan",e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}):e.jsxs("button",{type:"submit",className:"btn-next",disabled:x,style:{background:"var(--success)"},children:[x?"Memproses...":"Kirim Data",e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"})})]})]})]})]}),e.jsx("div",{className:"scanner-link-container",children:e.jsxs(y,{href:route("user.scanner"),className:"scanner-alt-btn",children:[e.jsx("div",{className:"scanner-icon-bg",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 00-1 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})}),e.jsxs("div",{className:"scanner-link-text",children:[e.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"Sudah punya QR Code?"}),e.jsx("span",{className:"text-[10px] opacity-70 block font-medium",children:"Klik di sini untuk Scan Mandiri"})]})]})})]}),v&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"success-icon",children:e.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})}),e.jsx("h2",{children:"Terima Kasih!"}),e.jsx("p",{children:"Data kunjungan Anda telah berhasil dicatat. Silahkan hubungi petugas resepsionis untuk langkah selanjutnya."}),e.jsx("button",{onClick:()=>u(!1),className:"btn-close",children:"Selesai"})]})}),e.jsx("footer",{className:"footer",children:e.jsxs("div",{className:"footer-inner",children:[e.jsxs("div",{className:"footer-top",children:[e.jsx("img",{src:"/logo/image_4.png",alt:"E-Tamu Logo",className:"footer-logo-aja"}),e.jsxs("div",{className:"footer-title-wrapper",children:[e.jsx("span",{className:"footer-title-main",children:"E-Tamu"}),e.jsx("span",{className:"footer-title-sub",children:"Buku Tamu Digital"})]})]}),e.jsx("div",{className:"footer-address",children:"Jl. Pahlawan No.10, Pleburan, Kec. Semarang Sel., Kota Semarang, Jawa Tengah 50249"}),e.jsxs("div",{className:"footer-socials",children:[e.jsxs("a",{href:"https://www.facebook.com/tselsmg/",target:"_blank",className:"social-item",children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12c0-5.523-4.477-10-10-10z"})}),"https://www.facebook.com/tselsmg/"]}),e.jsxs("a",{href:"https://twitter.com/TselSMG",target:"_blank",className:"social-item",children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"@TselSMG"]}),e.jsxs("a",{href:"https://www.instagram.com/pioneer.witelsmarangjtu/",target:"_blank",className:"social-item",children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2c2.717 0 3.056.01 4.122.058 1.066.048 1.79.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.637.417 1.361.465 2.427.048 1.066.058 1.405.058 4.122s-.01 3.056-.058 4.122c-.048 1.066-.218 1.79-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.637.247-1.361.417-2.427.465-1.066.048-1.405.058-4.122.058s-3.056-.01-4.122-.058c-1.066-.048-1.79-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.637-.417-1.361-.465-2.427-.047-1.066-.058-1.405-.058-4.122s.01-3.056.058-4.122c.048-1.066.218-1.79.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.523c.637-.247 1.361-.417 2.427-.465C8.944 2.01 9.283 2 12 2zm0 5a5 5 0 100 10 5 5 0 000-10zm6.5-.25a1.25 1.25 0 10-2.5 0 1.25 1.25 0 002.5 0zM12 9a3 3 0 110 6 3 3 0 010-6z"})}),"pioneer.witelsmarangjtu"]})]})]})})]})}export{E as default};
